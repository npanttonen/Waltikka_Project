<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Data</title>
</head>
<body>
    <div id="data-container">
        <!-- Data will be displayed here -->
    </div>

    <script>
        // Define your API key
        const apiKey = 'II6dsQDctGjWeoHgnT5wPjXlyJVmmUbvASnh2Zay';

        // Define the URL
        const apiUrl = 'https://iot.research.hamk.fi/api/v1/hamk/rooms/tsdata?room-id=10&startTime=2023-09-11T00:00:00Z&endTime=2023-09-11T12:30:00Z&fields=temperature,humidity,co2,light,motion,vdd';

        // Create a function to fetch data and display it on the webpage
        async function fetchData() {
            try {
                const response = await fetch(apiUrl, {
                    headers: {
                        'x-api-key': apiKey
                    }
                });

                const data = await response.json();

                // Assuming the response is in JSON format, you can display it in the 'data-container' div
                document.getElementById('data-container').textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // Call the fetchData function when the page loads
        window.onload = fetchData;
    </script>
</body>
</html>
